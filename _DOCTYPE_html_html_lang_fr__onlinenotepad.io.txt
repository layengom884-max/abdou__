<!DOCTYPE html>

<html lang="fr">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>MarketPlace - Achat & Vente avec Photos</title>

    <style>

        * {

            margin: 0;

            padding: 0;

            box-sizing: border-box;

        }



        body {

            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;

            background: #f0f2f5;

        }



        /* Header */

        header {

            background: white;

            box-shadow: 0 2px 10px rgba(0,0,0,0.1);

            position: fixed;

            width: 100%;

            top: 0;

            z-index: 1000;

        }



        nav {

            display: flex;

            justify-content: space-between;

            align-items: center;

            padding: 1rem 5%;

            max-width: 1400px;

            margin: 0 auto;

        }



        .logo {

            font-size: 1.8rem;

            font-weight: bold;

            color: #2ecc71;

        }



        .search-bar {

            flex: 0.5;

            display: flex;

            gap: 0.5rem;

        }



        .search-bar input {

            flex: 1;

            padding: 0.8rem;

            border: 2px solid #e0e0e0;

            border-radius: 25px;

            font-size: 1rem;

        }



        .search-bar button {

            background: #2ecc71;

            color: white;

            border: none;

            width: 45px;

            height: 45px;

            border-radius: 50%;

            cursor: pointer;

        }



        .nav-links {

            display: flex;

            gap: 2rem;

            align-items: center;

        }



        .nav-links a {

            text-decoration: none;

            color: #333;

            font-weight: 500;

            cursor: pointer;

        }



        .sell-btn {

            background: #2ecc71;

            color: white !important;

            padding: 0.8rem 1.5rem;

            border-radius: 25px;

        }



        /* Main Container */

        .container {

            max-width: 1400px;

            margin: 80px auto 2rem;

            padding: 0 5%;

        }



        /* Categories */

        .categories {

            display: flex;

            gap: 1rem;

            overflow-x: auto;

            padding: 1rem 0;

            margin-bottom: 2rem;

            background: white;

            border-radius: 10px;

            padding: 1rem;

        }



        .category-item {

            padding: 0.5rem 1rem;

            background: #f0f2f5;

            border-radius: 20px;

            cursor: pointer;

            white-space: nowrap;

        }



        .category-item.active {

            background: #2ecc71;

            color: white;

        }



        /* Products Grid */

        .products-grid {

            display: grid;

            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));

            gap: 1.5rem;

            margin-bottom: 2rem;

        }



        .product-card {

            background: white;

            border-radius: 10px;

            overflow: hidden;

            box-shadow: 0 2px 5px rgba(0,0,0,0.1);

            transition: transform 0.3s;

        }



        .product-card:hover {

            transform: translateY(-5px);

            box-shadow: 0 5px 15px rgba(0,0,0,0.2);

        }



        .product-image {

            width: 100%;

            height: 200px;

            background: #f8f9fa;

            display: flex;

            align-items: center;

            justify-content: center;

            font-size: 3rem;

            border-bottom: 1px solid #eee;

            overflow: hidden;

        }



        .product-image img {

            width: 100%;

            height: 100%;

            object-fit: cover;

        }



        .product-image .no-image {

            font-size: 3rem;

        }



        .product-info {

            padding: 1rem;

        }



        .product-title {

            font-size: 1.1rem;

            font-weight: 600;

            margin-bottom: 0.5rem;

        }



        .product-price {

            font-size: 1.3rem;

            font-weight: bold;

            color: #2ecc71;

            margin-bottom: 0.5rem;

        }



        .product-seller {

            display: flex;

            align-items: center;

            gap: 0.5rem;

            margin-bottom: 0.5rem;

            color: #666;

            font-size: 0.9rem;

        }



        .seller-avatar {

            width: 25px;

            height: 25px;

            background: #2ecc71;

            border-radius: 50%;

            display: flex;

            align-items: center;

            justify-content: center;

            color: white;

            font-size: 0.8rem;

        }



        .product-actions {

            display: flex;

            gap: 0.5rem;

            margin-top: 1rem;

        }



        .buy-btn {

            flex: 1;

            padding: 0.8rem;

            background: #2ecc71;

            color: white;

            border: none;

            border-radius: 5px;

            cursor: pointer;

            font-weight: 600;

        }



        .contact-btn {

            padding: 0.8rem 1rem;

            background: #f0f2f5;

            color: #333;

            border: none;

            border-radius: 5px;

            cursor: pointer;

        }



        /* Sell Modal */

        .modal {

            display: none;

            position: fixed;

            top: 0;

            left: 0;

            width: 100%;

            height: 100%;

            background: rgba(0,0,0,0.5);

            z-index: 2000;

            overflow-y: auto;

            padding: 20px;

        }



        .modal.open {

            display: flex;

            align-items: center;

            justify-content: center;

        }



        .modal-content {

            background: white;

            border-radius: 15px;

            max-width: 600px;

            width: 100%;

            padding: 2rem;

            max-height: 90vh;

            overflow-y: auto;

        }



        .modal-content h2 {

            margin-bottom: 1.5rem;

            color: #333;

            display: flex;

            justify-content: space-between;

            align-items: center;

        }



        .close-modal {

            background: none;

            border: none;

            font-size: 2rem;

            cursor: pointer;

            color: #999;

        }



        .form-group {

            margin-bottom: 1rem;

        }



        .form-group label {

            display: block;

            margin-bottom: 0.5rem;

            color: #555;

            font-weight: 600;

        }



        .form-group input, 

        .form-group select,

        .form-group textarea {

            width: 100%;

            padding: 0.8rem;

            border: 2px solid #e0e0e0;

            border-radius: 8px;

            font-size: 1rem;

        }



        .form-group textarea {

            min-height: 100px;

            resize: vertical;

        }



        .form-row {

            display: grid;

            grid-template-columns: 1fr 1fr;

            gap: 1rem;

        }



        /* Aper√ßu de l'image */

        .image-preview {

            margin-top: 0.5rem;

            padding: 1rem;

            background: #f8f9fa;

            border-radius: 8px;

            text-align: center;

            display: none;

        }



        .image-preview img {

            max-width: 100%;

            max-height: 150px;

            border-radius: 5px;

        }



        .image-preview.show {

            display: block;

        }



        .image-hint {

            font-size: 0.85rem;

            color: #666;

            margin-top: 0.3rem;

        }



        .submit-btn {

            width: 100%;

            padding: 1rem;

            background: #2ecc71;

            color: white;

            border: none;

            border-radius: 8px;

            font-size: 1.1rem;

            font-weight: 600;

            cursor: pointer;

            margin-top: 1rem;

        }



        /* My Products Section */

        .my-products-section {

            background: white;

            border-radius: 10px;

            padding: 1.5rem;

            margin-top: 2rem;

        }



        .section-header {

            display: flex;

            justify-content: space-between;

            align-items: center;

            margin-bottom: 1rem;

        }



        .my-products-grid {

            display: grid;

            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));

            gap: 1rem;

        }



        .my-product-card {

            background: #f8f9fa;

            border-radius: 8px;

            padding: 1rem;

            position: relative;

        }



        .my-product-image {

            width: 100%;

            height: 120px;

            object-fit: cover;

            border-radius: 5px;

            margin-bottom: 0.5rem;

        }



        .delete-product {

            position: absolute;

            top: 5px;

            right: 5px;

            background: #e74c3c;

            color: white;

            border: none;

            width: 25px;

            height: 25px;

            border-radius: 50%;

            cursor: pointer;

        }



        /* Notification */

        .notification {

            position: fixed;

            bottom: 20px;

            right: 20px;

            background: #2ecc71;

            color: white;

            padding: 1rem;

            border-radius: 8px;

            z-index: 3000;

            animation: slideIn 0.3s;

        }



        @keyframes slideIn {

            from {

                transform: translateX(100%);

                opacity: 0;

            }

            to {

                transform: translateX(0);

                opacity: 1;

            }

        }



        @media (max-width: 768px) {

            nav {

                flex-direction: column;

                gap: 1rem;

            }

            

            .search-bar {

                width: 100%;

            }

            

            .nav-links {

                width: 100%;

                justify-content: space-around;

            }

            

            .form-row {

                grid-template-columns: 1fr;

            }

        }

    </style>

</head>

<body>

    <header>

        <nav>

            <div class="logo">üì± MarketPlace</div>

            <div class="search-bar">

                <input type="text" id="searchInput" placeholder="Rechercher un produit...">

                <button onclick="searchProducts()">üîç</button>

            </div>

            <div class="nav-links">

                <a onclick="showAllProducts()">Accueil</a>

                <a onclick="showMyProducts()">Mes annonces</a>

                <a class="sell-btn" onclick="openSellModal()">‚ûï Vendre</a>

            </div>

        </nav>

    </header>



    <div class="container">

        <!-- Cat√©gories -->

        <div class="categories" id="categories">

            <div class="category-item active" onclick="filterByCategory('all')">Tous</div>

            <div class="category-item" onclick="filterByCategory('T√©l√©phones')">üì± T√©l√©phones</div>

            <div class="category-item" onclick="filterByCategory('V√™tements')">üëï V√™tements</div>

            <div class="category-item" onclick="filterByCategory('√âlectronique')">üíª √âlectronique</div>

            <div class="category-item" onclick="filterByCategory('Maison')">üè† Maison</div>

            <div class="category-item" onclick="filterByCategory('Sports')">‚öΩ Sports</div>

            <div class="category-item" onclick="filterByCategory('V√©hicules')">üöó V√©hicules</div>

        </div>



        <!-- Produits √† vendre -->

        <div id="productsSection">

            <h2>üõçÔ∏è Produits √† vendre</h2>

            <div class="products-grid" id="productsGrid"></div>

        </div>



        <!-- Mes produits (section cach√©e par d√©faut) -->

        <div id="myProductsSection" class="my-products-section" style="display: none;">

            <div class="section-header">

                <h2>üì¶ Mes annonces</h2>

                <button class="sell-btn" onclick="openSellModal()" style="padding: 0.5rem 1rem;">+ Nouvelle annonce</button>

            </div>

            <div class="my-products-grid" id="myProductsGrid"></div>

        </div>

    </div>



    <!-- Modal pour vendre -->

    <div class="modal" id="sellModal">

        <div class="modal-content">

            <h2>

                Vendre un article

                <button class="close-modal" onclick="closeSellModal()">&times;</button>

            </h2>

            

            <div class="form-group">

                <label>Votre nom *</label>

                <input type="text" id="sellerName" placeholder="Entrez votre nom" required>

            </div>



            <div class="form-group">

                <label>Titre de l'article *</label>

                <input type="text" id="productTitle" placeholder="Ex: iPhone 11 en bon √©tat" required>

            </div>



            <div class="form-row">

                <div class="form-group">

                    <label>Prix (FCFA) *</label>

                    <input type="number" id="productPrice" placeholder="Ex: 150000" required>

                </div>



                <div class="form-group">

                    <label>Cat√©gorie *</label>

                    <select id="productCategory" required>

                        <option value="">Choisir</option>

                        <option value="T√©l√©phones">üì± T√©l√©phones</option>

                        <option value="V√™tements">üëï V√™tements</option>

                        <option value="√âlectronique">üíª √âlectronique</option>

                        <option value="Maison">üè† Maison</option>

                        <option value="Sports">‚öΩ Sports</option>

                        <option value="V√©hicules">üöó V√©hicules</option>

                    </select>

                </div>

            </div>



            <!-- NOUVEAU : Champ pour l'URL de l'image -->

            <div class="form-group">

                <label>Photo (lien URL) *</label>

                <input type="url" id="productImage" placeholder="https://exemple.com/ma-photo.jpg" onchange="previewImage()">

                <div class="image-hint">

                    üí° Utilisez un lien d'image (Google Images, ImgBB, etc.)

                </div>

                <div class="image-preview" id="imagePreview">

                    <img src="" alt="Aper√ßu" id="previewImg">

                </div>

            </div>



            <div class="form-group">

                <label>Description *</label>

                <textarea id="productDescription" placeholder="D√©crivez votre article (√©tat, caract√©ristiques...)" required></textarea>

            </div>



            <div class="form-group">

                <label>Contact (t√©l√©phone) *</label>

                <input type="tel" id="sellerContact" placeholder="Ex: 77 123 45 67" required>

            </div>



            <div class="form-group">

                <label>Localisation *</label>

                <input type="text" id="sellerLocation" placeholder="Ex: Dakar, S√©n√©gal" required>

            </div>



            <button class="submit-btn" onclick="addProduct()">Publier l'annonce</button>

        </div>

    </div>



    <script>

        // Base de donn√©es des produits

        let products = [

            {

                id: 1,

                seller: "Mamadou",

                title: "iPhone 11 64GB",

                price: 225000,

                category: "T√©l√©phones",

                description: "iPhone 11 en tr√®s bon √©tat, batterie 85%",

                contact: "77 123 45 67",

                location: "Dakar",

                image: "https://fdn2.gsmarena.com/vv/pics/apple/apple-iphone-11-2.jpg"

            },

            {

                id: 2,

                seller: "A√Øcha",

                title: "Robe traditionnelle",

                price: 15000,

                category: "V√™tements",

                description: "Robe boubou traditionnelle, taille M",

                contact: "78 456 78 90",

                location: "Thi√®s",

                image: "https://th.bing.com/th/id/R.c5f5aec7dee7c1a3b6e5b4f7c9b8a7d6?rik=zF8xL9yW3nQ4rQ&pid=ImgRaw&r=0"

            },

            {

                id: 3,

                seller: "Omar",

                title: "PC Portable HP",

                price: 185000,

                category: "√âlectronique",

                description: "HP Pavilion, i5, 8GB RAM, SSD 256GB",

                contact: "76 234 56 78",

                location: "Dakar",

                image: "https://th.bing.com/th/id/OIP.3Ggx9X9f9X9f9X9f9X9f9XHaFj?pid=ImgDet&rs=1"

            }

        ];



        let currentUser = "Visiteur";

        let currentCategory = "all";

        let searchTerm = "";



        // Initialisation

        document.addEventListener('DOMContentLoaded', () => {

            displayProducts();

            updateMyProducts();

        });



        // Afficher tous les produits

        function displayProducts() {

            const grid = document.getElementById('productsGrid');

            grid.innerHTML = '';



            let filteredProducts = products;



            // Filtre par cat√©gorie

            if (currentCategory !== 'all') {

                filteredProducts = filteredProducts.filter(p => p.category === currentCategory);

            }



            // Filtre par recherche

            if (searchTerm) {

                filteredProducts = filteredProducts.filter(p => 

                    p.title.toLowerCase().includes(searchTerm.toLowerCase()) ||

                    p.description.toLowerCase().includes(searchTerm.toLowerCase())

                );

            }



            if (filteredProducts.length === 0) {

                grid.innerHTML = '<p style="text-align: center; grid-column: 1/-1;">Aucun produit trouv√©</p>';

                return;

            }



            filteredProducts.forEach(product => {

                const card = document.createElement('div');

                card.className = 'product-card';

                

                // V√©rifier si l'image existe

                const imageHtml = product.image ? 

                    `<img src="${product.image}" alt="${product.title}" onerror="this.src='https://via.placeholder.com/200x200?text=Pas+d'image'">` :

                    `<div class="no-image">üì∑</div>`;

                

                card.innerHTML = `

                    <div class="product-image">

                        ${imageHtml}

                    </div>

                    <div class="product-info">

                        <div class="product-title">${product.title}</div>

                        <div class="product-price">${formatCFA(product.price)}</div>

                        <div class="product-seller">

                            <span class="seller-avatar">${product.seller[0]}</span>

                            <span>${product.seller} ‚Ä¢ ${product.location}</span>

                        </div>

                        <div class="product-actions">

                            <button class="buy-btn" onclick="buyProduct(${product.id})">Acheter</button>

                            <button class="contact-btn" onclick="contactSeller(${product.id})">üìû</button>

                        </div>

                    </div>

                `;

                

                grid.appendChild(card);

            });

        }



        // Afficher mes produits

        function updateMyProducts() {

            const grid = document.getElementById('myProductsGrid');

            

            // Pour la d√©mo, on consid√®re que l'utilisateur actuel est "Mamadou"

            const myProducts = products.filter(p => p.seller === "Mamadou");

            

            if (myProducts.length === 0) {

                grid.innerHTML = '<p>Vous n\'avez pas encore d\'annonces</p>';

                return;

            }



            grid.innerHTML = '';

            myProducts.forEach(product => {

                const card = document.createElement('div');

                card.className = 'my-product-card';

                

                const imageHtml = product.image ? 

                    `<img src="${product.image}" class="my-product-image" alt="${product.title}">` :

                    `<div style="height:120px; display:flex; align-items:center; justify-content:center; background:#f0f0f0;">üì∑</div>`;

                

                card.innerHTML = `

                    <button class="delete-product" onclick="deleteProduct(${product.id})">√ó</button>

                    ${imageHtml}

                    <h4>${product.title}</h4>

                    <p style="color: #2ecc71; font-weight: bold;">${formatCFA(product.price)}</p>

                    <p style="font-size: 0.9rem; color: #666;">${product.category}</p>

                `;

                

                grid.appendChild(card);

            });

        }



        // Aper√ßu de l'image

        function previewImage() {

            const imageUrl = document.getElementById('productImage').value;

            const preview = document.getElementById('imagePreview');

            const previewImg = document.getElementById('previewImg');

            

            if (imageUrl) {

                previewImg.src = imageUrl;

                preview.classList.add('show');

            } else {

                preview.classList.remove('show');

            }

        }



        // Fonctions pour les cat√©gories

        function filterByCategory(category) {

            currentCategory = category;

            

            // Mettre √† jour l'affichage des cat√©gories

            document.querySelectorAll('.category-item').forEach(item => {

                item.classList.remove('active');

            });

            event.target.classList.add('active');

            

            displayProducts();

        }



        // Recherche

        function searchProducts() {

            searchTerm = document.getElementById('searchInput').value;

            displayProducts();

        }



        // Acheter un produit

        function buyProduct(productId) {

            const product = products.find(p => p.id === productId);

            alert(`

‚úÖ Demande d'achat envoy√©e !



Produit : ${product.title}

Prix : ${formatCFA(product.price)}

Vendeur : ${product.seller}

Contact : ${product.contact}



Le vendeur vous contactera bient√¥t.

            `);

        }



        // Contacter le vendeur

        function contactSeller(productId) {

            const product = products.find(p => p.id === productId);

            alert(`üìû Contactez le vendeur ${product.seller} au ${product.contact}`);

        }



        // Modal de vente

        function openSellModal() {

            document.getElementById('sellModal').classList.add('open');

        }



        function closeSellModal() {

            document.getElementById('sellModal').classList.remove('open');

            // Reset preview

            document.getElementById('imagePreview').classList.remove('show');

        }



        // Ajouter un produit

        function addProduct() {

            const seller = document.getElementById('sellerName').value;

            const title = document.getElementById('productTitle').value;

            const price = parseInt(document.getElementById('productPrice').value);

            const category = document.getElementById('productCategory').value;

            const image = document.getElementById('productImage').value;

            const description = document.getElementById('productDescription').value;

            const contact = document.getElementById('sellerContact').value;

            const location = document.getElementById('sellerLocation').value;



            // Validation

            if (!seller || !title || !price || !category || !image || !description || !contact || !location) {

                alert('Veuillez remplir tous les champs');

                return;

            }



            // Cr√©er le nouveau produit

            const newProduct = {

                id: products.length + 1,

                seller: seller,

                title: title,

                price: price,

                category: category,

                description: description,

                contact: contact,

                location: location,

                image: image

            };



            products.push(newProduct);

            

            closeSellModal();

            displayProducts();

            updateMyProducts();

            

            showNotification('‚úÖ Votre annonce a √©t√© publi√©e !');

            

            // Vider le formulaire

            document.getElementById('sellerName').value = '';

            document.getElementById('productTitle').value = '';

            document.getElementById('productPrice').value = '';

            document.getElementById('productCategory').value = '';

            document.getElementById('productImage').value = '';

            document.getElementById('productDescription').value = '';

            document.getElementById('sellerContact').value = '';

            document.getElementById('sellerLocation').value = '';

            document.getElementById('imagePreview').classList.remove('show');

        }



        // Supprimer un produit

        function deleteProduct(productId) {

            if (confirm('Voulez-vous vraiment supprimer cette annonce ?')) {

                products = products.filter(p => p.id !== productId);

                displayProducts();

                updateMyProducts();

                showNotification('üóëÔ∏è Annonce supprim√©e');

            }

        }



        // Afficher mes annonces

        function showMyProducts() {

            document.getElementById('productsSection').style.display = 'none';

            document.getElementById('myProductsSection').style.display = 'block';

        }



        function showAllProducts() {

            document.getElementById('productsSection').style.display = 'block';

            document.getElementById('myProductsSection').style.display = 'none';

        }



        // Utilitaires

        function formatCFA(price) {

            return price.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ") + " FCFA";

        }



        function showNotification(message) {

            const notification = document.createElement('div');

            notification.className = 'notification';

            notification.textContent = message;

            

            document.body.appendChild(notification);

            

            setTimeout(() => {

                notification.remove();

            }, 3000);

        }

    </script>

</body>

</html>